<style type="text/css">
  TABLE {
    border-collapse:collapse;
  }
  TH {
    background:#fc0;
  }
  TD {
    background:#fff;
    text-align:center;
  }
  TD.inner_table {
    background:greenyellow;
    text-align:center;
    font-size: xx-small;
  }
  TH.small_header{
    font-size: x-small;
    word-break: break-all;
  }
  TH, TD {
    border: 1px solid black;
    padding-right: 0px;
  }
  
</style>

<table width='100%'>  
  {% for j in headers %}
    <th {% if j|length > 25 %} class="small_header"{% endif %}>{{j}}</th>
  {% endfor %}

  {% for i in records %}
    <tr>
      <td>{{i.date.day}}/{{i.date.month}}/{{i.date.year}}</td>
      <td>{{i.marking}}</td>
      <td>{{i.batch}}</td>
      <td>{{i.plan}}</td>
      <td>{{i.p_apparatus}}</td>
      <td>{{i.p_container}}</td>
      <td>{{i.p_conveyor}}</td>
      <!-- <td>{{i.suppose_time.supp_app_test_time}}</td> -->
      <!-- <td>{{i.suppose_time.supp_prod_adm_time}}</td> -->

      <td {% if i.app_test_time.fix_time %}class="inner_table"{% endif %}>
        <div>{{i.app_test_time.fix_time}}</div>
        <div>{{i.app_test_time.fix_user.first_name}} {{i.app_test_time.fix_user.last_name}} </div>
      </td>      
      <td><form action="add_adm/{{i.id}}"><input type=submit value="adm" style="width:100%"></form></td>
    </tr>
  {% endfor %}
</table>